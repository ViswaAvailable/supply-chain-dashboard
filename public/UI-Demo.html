<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ManufacturingOS - Smart Inventory Management</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
        }

        .app-container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 280px;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 24px;
            display: flex;
            flex-direction: column;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 40px;
            padding-bottom: 24px;
            border-bottom: 1px solid #475569;
        }

        .logo i {
            font-size: 32px;
            color: #3b82f6;
        }

        .logo h1 {
            font-size: 20px;
            font-weight: 600;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 8px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: #cbd5e1;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s;
            cursor: pointer;
        }

        .nav-link:hover {
            background: #475569;
            color: white;
        }

        .nav-link.active {
            background: #3b82f6;
            color: white;
        }

        .nav-link i {
            width: 20px;
            text-align: center;
        }

        .main-content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .page-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }

        .page-title {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
        }

        .page-subtitle {
            font-size: 16px;
            color: #64748b;
            margin-top: 4px;
        }

        .filters {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .filter-label {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background: white;
            font-size: 14px;
        }

        .status-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .status-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .status-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .status-card-title {
            font-size: 14px;
            font-weight: 500;
            color: #64748b;
        }

        .status-card-value {
            font-size: 24px;
            font-weight: 700;
            color: #1e293b;
        }

        .status-card-change {
            font-size: 12px;
            font-weight: 500;
        }

        .status-card-change.positive { color: #059669; }
        .status-card-change.negative { color: #dc2626; }

        .calendar-grid {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }

        .calendar-nav {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .calendar-nav button {
            padding: 8px 12px;
            background: #f1f5f9;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .calendar-nav button:hover {
            background: #e2e8f0;
        }

        .calendar-title {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
        }

        .legend {
            display: flex;
            gap: 24px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }

        .weeks-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
        }

        .week-day {
            background: #f8fafc;
            padding: 12px;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
        }

        .week-cell {
            background: white;
            padding: 16px 12px;
            min-height: 80px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .week-cell:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .week-number {
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
            margin-bottom: 4px;
        }

        .week-status {
            width: 100%;
            height: 24px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 500;
            color: white;
        }

        .status-good { background: #059669; }
        .status-warning { background: #d97706; }
        .status-critical { background: #dc2626; }

        .week-details {
            position: absolute;
            bottom: 4px;
            left: 12px;
            right: 12px;
            font-size: 10px;
            color: #64748b;
        }

        .data-table {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            overflow: hidden;
        }

        .table-header {
            background: #f8fafc;
            padding: 16px 24px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
        }

        .table-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
        }

        .btn-secondary {
            background: #f1f5f9;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #e2e8f0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px 24px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        th {
            background: #f8fafc;
            font-weight: 600;
            color: #374151;
            font-size: 14px;
        }

        td {
            font-size: 14px;
            color: #1e293b;
        }

        tr:hover {
            background: #f8fafc;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-success { background: #dcfce7; color: #166534; }
        .badge-warning { background: #fef3c7; color: #92400e; }
        .badge-danger { background: #fee2e2; color: #991b1b; }

        .supplier-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
        }

        .supplier-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .supplier-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .supplier-info h3 {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .supplier-info p {
            font-size: 14px;
            color: #64748b;
        }

        .supplier-rating {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .rating-score {
            font-size: 24px;
            font-weight: 700;
            color: #1e293b;
        }

        .rating-stars {
            color: #fbbf24;
        }

        .supplier-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .metric {
            text-align: center;
            padding: 12px;
            background: #f8fafc;
            border-radius: 8px;
        }

        .metric-value {
            font-size: 20px;
            font-weight: 700;
            color: #1e293b;
        }

        .metric-label {
            font-size: 12px;
            color: #64748b;
            margin-top: 4px;
        }

        .parts-list {
            border-top: 1px solid #e2e8f0;
            padding-top: 16px;
        }

        .parts-list h4 {
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .parts-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .part-tag {
            padding: 4px 8px;
            background: #e0e7ff;
            color: #3730a3;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 24px;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
        }

        .close {
            background: none;
            border: none;
            font-size: 24px;
            color: #64748b;
            cursor: pointer;
        }

        .chart-container {
            width: 100%;
            height: 300px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .weeks-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .supplier-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <nav class="sidebar">
            <div class="logo">
                <i class="fas fa-industry"></i>
                <h1>ManufacturingOS</h1>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a class="nav-link active" data-page="overview">
                        <i class="fas fa-calendar-alt"></i>
                        Assembly Overview
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-page="parts">
                        <i class="fas fa-cogs"></i>
                        Parts Planning
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-page="suppliers">
                        <i class="fas fa-truck"></i>
                        Supplier Performance
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-page="analytics">
                        <i class="fas fa-chart-line"></i>
                        Analytics & KPIs
                    </a>
                </li>
            </ul>
        </nav>

        <main class="main-content">
            <!-- Assembly Overview Page -->
            <div class="page active" id="overview">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Assembly Overview</h1>
                        <p class="page-subtitle">Weekly production status and inventory risk assessment</p>
                    </div>
                </div>

                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Final Product</label>
                        <select class="filter-select">
                            <option>All Products</option>
                            <option>Widget Assembly A</option>
                            <option>Widget Assembly B</option>
                            <option>Motor Unit X</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Time Range</label>
                        <select class="filter-select">
                            <option>Next 12 Weeks</option>
                            <option>Next 8 Weeks</option>
                            <option>Next 16 Weeks</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">View</label>
                        <select class="filter-select">
                            <option>All Risk Levels</option>
                            <option>High Risk Only</option>
                            <option>Good Status Only</option>
                        </select>
                    </div>
                </div>

                <div class="status-cards">
                    <div class="status-card">
                        <div class="status-card-header">
                            <span class="status-card-title">Weeks at Risk</span>
                            <i class="fas fa-exclamation-triangle" style="color: #d97706;"></i>
                        </div>
                        <div class="status-card-value">3</div>
                        <div class="status-card-change negative">↑ 2 from last month</div>
                    </div>
                    <div class="status-card">
                        <div class="status-card-header">
                            <span class="status-card-title">Parts Requiring PO</span>
                            <i class="fas fa-shopping-cart" style="color: #3b82f6;"></i>
                        </div>
                        <div class="status-card-value">12</div>
                        <div class="status-card-change positive">↓ 5 from last week</div>
                    </div>
                    <div class="status-card">
                        <div class="status-card-header">
                            <span class="status-card-title">Avg. Lead Time</span>
                            <i class="fas fa-clock" style="color: #059669;"></i>
                        </div>
                        <div class="status-card-value">8.4<span style="font-size: 14px; color: #64748b;"> days</span></div>
                        <div class="status-card-change positive">↓ 0.6 days</div>
                    </div>
                    <div class="status-card">
                        <div class="status-card-header">
                            <span class="status-card-title">Supplier Performance</span>
                            <i class="fas fa-star" style="color: #fbbf24;"></i>
                        </div>
                        <div class="status-card-value">87%</div>
                        <div class="status-card-change positive">↑ 3% this month</div>
                    </div>
                </div>

                <div class="calendar-grid">
                    <div class="calendar-header">
                        <div class="calendar-nav">
                            <button onclick="changeMonth(-1)">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <h2 class="calendar-title" id="currentMonth">January 2024</h2>
                            <button onclick="changeMonth(1)">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-color status-good"></div>
                                <span>On Track</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color status-warning"></div>
                                <span>At Risk</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color status-critical"></div>
                                <span>Critical Risk</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="weeks-grid" id="weeksGrid">
                        <div class="week-day">Week</div>
                        <div class="week-day">Mon</div>
                        <div class="week-day">Tue</div>
                        <div class="week-day">Wed</div>
                        <div class="week-day">Thu</div>
                        <div class="week-day">Fri</div>
                        <div class="week-day">Status</div>
                        <!-- Generated dynamically -->
                    </div>
                </div>
            </div>

            <!-- Parts Planning Page -->
            <div class="page" id="parts">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Parts Planning</h1>
                        <p class="page-subtitle">Inventory management and purchase order recommendations</p>
                    </div>
                </div>

                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Part Category</label>
                        <select class="filter-select">
                            <option>All Categories</option>
                            <option>Electronic Components</option>
                            <option>Mechanical Parts</option>
                            <option>Raw Materials</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Supplier</label>
                        <select class="filter-select">
                            <option>All Suppliers</option>
                            <option>TechCorp Industries</option>
                            <option>MechParts Ltd</option>
                            <option>GlobalSupply Co</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Status</label>
                        <select class="filter-select">
                            <option>All Status</option>
                            <option>PO Required</option>
                            <option>Low Stock</option>
                            <option>Overstocked</option>
                        </select>
                    </div>
                </div>

                <div class="data-table">
                    <div class="table-header">
                        <h3 class="table-title">Parts Inventory & PO Recommendations</h3>
                        <div class="table-actions">
                            <button class="btn btn-secondary">Export</button>
                            <button class="btn btn-primary">Bulk PO Generation</button>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Part Number</th>
                                <th>Description</th>
                                <th>Current Stock</th>
                                <th>Safety Stock</th>
                                <th>Lead Time</th>
                                <th>MOQ</th>
                                <th>Supplier</th>
                                <th>PO Recommendation</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="partsTable">
                            <!-- Generated dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Supplier Performance Page -->
            <div class="page" id="suppliers">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Supplier Performance</h1>
                        <p class="page-subtitle">Analyze and track supplier reliability and performance metrics</p>
                    </div>
                </div>

                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Region</label>
                        <select class="filter-select">
                            <option>All Regions</option>
                            <option>Asia Pacific</option>
                            <option>Europe</option>
                            <option>North America</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Performance</label>
                        <select class="filter-select">
                            <option>All Performance</option>
                            <option>Excellent (90%+)</option>
                            <option>Good (80-89%)</option>
                            <option>Needs Improvement (<80%)</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Time Period</label>
                        <select class="filter-select">
                            <option>Last 6 Months</option>
                            <option>Last 3 Months</option>
                            <option>Last 12 Months</option>
                        </select>
                    </div>
                </div>

                <div class="supplier-cards" id="supplierCards">
                    <!-- Generated dynamically -->
                </div>
            </div>

            <!-- Analytics & KPIs Page -->
            <div class="page" id="analytics">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Analytics & KPIs</h1>
                        <p class="page-subtitle">Key performance indicators and business intelligence</p>
                    </div>
                </div>

                <div class="status-cards">
                    <div class="status-card">
                        <div class="status-card-header">
                            <span class="status-card-title">Inventory Turnover</span>
                            <i class="fas fa-sync-alt" style="color: #3b82f6;"></i>
                        </div>
                        <div class="status-card-value">4.2x</div>
                        <div class="status-card-change positive">↑ 0.3x vs target</div>
                    </div>
                    <div class="status-card">
                        <div class="status-card-header">
                            <span class="status-card-title">Stockout Prevention</span>
                            <i class="fas fa-shield-alt" style="color: #059669;"></i>
                        </div>
                        <div class="status-card-value">96.7%</div>
                        <div class="status-card-change positive">↑ 2.1% this quarter</div>
                    </div>
                    <div class="status-card">
                        <div class="status-card-header">
                            <span class="status-card-title">Cost Savings</span>
                            <i class="fas fa-dollar-sign" style="color: #059669;"></i>
                        </div>
                        <div class="status-card-value">$47K</div>
                        <div class="status-card-change positive">vs manual process</div>
                    </div>
                    <div class="status-card">
                        <div class="status-card-header">
                            <span class="status-card-title">PO Processing Time</span>
                            <i class="fas fa-stopwatch" style="color: #d97706;"></i>
                        </div>
                        <div class="status-card-value">2.3 hrs</div>
                        <div class="status-card-change positive">↓ 75% reduction</div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px;">
                    <div class="data-table">
                        <div class="table-header">
                            <h3 class="table-title">Lead Time Trends</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="leadTimeChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="data-table">
                        <div class="table-header">
                            <h3 class="table-title">Supplier Performance Distribution</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="supplierChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="data-table">
                    <div class="table-header">
                        <h3 class="table-title">Monthly Inventory Value</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="inventoryChart"></canvas>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Part Detail Modal -->
    <div class="modal" id="partModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="partModalTitle">Part Details</h3>
                <button class="close" onclick="closeModal('partModal')">&times;</button>
            </div>
            <div id="partModalContent">
                <!-- Generated dynamically -->
            </div>
        </div>
    </div>

    <script>
        // Mock Data
        const mockParts = [
            {
                partNumber: "PCB-001",
                description: "Main Circuit Board",
                currentStock: 45,
                safetyStock: 20,
                leadTime: "12 days",
                moq: 100,
                supplier: "TechCorp Industries",
                poRecommendation: "Order 100 units by Feb 15",
                status: "PO Required",
                price: 25.50
            },
            {
                partNumber: "MTR-205",
                description: "AC Motor 5HP",
                currentStock: 8,
                safetyStock: 15,
                leadTime: "21 days",
                moq: 25,
                supplier: "MechParts Ltd",
                poRecommendation: "Critical: Order 25 units ASAP",
                status: "Critical",
                price: 340.00
            },
            {
                partNumber: "BRG-034",
                description: "Ball Bearing 34mm",
                currentStock: 150,
                safetyStock: 50,
                leadTime: "7 days",
                moq: 200,
                supplier: "GlobalSupply Co",
                poRecommendation: "Stock sufficient for 6 weeks",
                status: "Good",
                price: 12.75
            },
            {
                partNumber: "SCR-M5-20",
                description: "M5 Hex Screw 20mm",
                currentStock: 2340,
                safetyStock: 1000,
                leadTime: "3 days",
                moq: 5000,
                supplier: "FastenAll Inc",
                poRecommendation: "Order 5000 units by March 1",
                status: "PO Required",
                price: 0.15
            },
            {
                partNumber: "WIR-022",
                description: "Electrical Wire 22AWG",
                currentStock: 890,
                safetyStock: 500,
                leadTime: "5 days",
                moq: 1000,
                supplier: "ElectroWire Corp",
                poRecommendation: "Stock adequate for 4 weeks",
                status: "Good",
                price: 0.45
            }
        ];

        const mockSuppliers = [
            {
                name: "TechCorp Industries",
                country: "Taiwan",
                onTimeDelivery: 94,
                avgLeadTime: 11.2,
                totalOrders: 48,
                lateDeliveries: 3,
                parts: ["PCB-001", "PCB-002", "LCD-15", "SEN-004"],
                rating: 4.7
            },
            {
                name: "MechParts Ltd",
                country: "Germany",
                onTimeDelivery: 87,
                avgLeadTime: 18.5,
                totalOrders: 32,
                lateDeliveries: 4,
                parts: ["MTR-205", "GBX-101", "SHF-034"],
                rating: 4.2
            },
            {
                name: "GlobalSupply Co",
                country: "China",
                onTimeDelivery: 91,
                avgLeadTime: 8.3,
                totalOrders: 67,
                lateDeliveries: 6,
                parts: ["BRG-034", "BRG-025", "WSH-012", "SPR-008"],
                rating: 4.5
            },
            {
                name: "FastenAll Inc",
                country: "USA",
                onTimeDelivery: 98,
                avgLeadTime: 2.1,
                totalOrders: 24,
                lateDeliveries: 1,
                parts: ["SCR-M5-20", "SCR-M6-25", "NUT-M5", "WSH-M5"],
                rating: 4.9
            },
            {
                name: "ElectroWire Corp",
                country: "Malaysia",
                onTimeDelivery: 89,
                avgLeadTime: 6.7,
                totalOrders: 19,
                lateDeliveries: 2,
                parts: ["WIR-022", "WIR-018", "CBL-USB", "CON-024"],
                rating: 4.3
            }
        ];

        // Navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize navigation
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page');

            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const targetPage = this.dataset.page;
                    
                    // Update active nav link
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show target page
                    pages.forEach(page => page.classList.remove('active'));
                    document.getElementById(targetPage).classList.add('active');
                    
                    // Initialize page-specific content
                    if (targetPage === 'overview') {
                        generateCalendarGrid();
                    } else if (targetPage === 'parts') {
                        populatePartsTable();
                    } else if (targetPage === 'suppliers') {
                        populateSupplierCards();
                    } else if (targetPage === 'analytics') {
                        setTimeout(() => initializeCharts(), 100);
                    }
                });
            });

            // Initialize default page
            generateCalendarGrid();
            populatePartsTable();
            populateSupplierCards();
        });

        // Calendar Functions
        let currentMonthIndex = 0;
        const months = [
            "January 2024", "February 2024", "March 2024", "April 2024",
            "May 2024", "June 2024", "July 2024", "August 2024"
        ];

        function changeMonth(direction) {
            currentMonthIndex += direction;
            if (currentMonthIndex < 0) currentMonthIndex = 0;
            if (currentMonthIndex >= months.length) currentMonthIndex = months.length - 1;
            
            document.getElementById('currentMonth').textContent = months[currentMonthIndex];
            generateCalendarGrid();
        }

        function generateCalendarGrid() {
            const grid = document.getElementById('weeksGrid');
            const header = grid.querySelector('.week-day');
            
            // Clear existing content except header row
            const headers = grid.querySelectorAll('.week-day');
            grid.innerHTML = '';
            headers.forEach(h => grid.appendChild(h));
            
            // Generate weeks data
            const weeks = [
                { week: 1, status: 'good', details: '3 POs pending' },
                { week: 2, status: 'good', details: 'All on track' },
                { week: 3, status: 'warning', details: '2 parts at risk' },
                { week: 4, status: 'good', details: 'All on track' },
                { week: 5, status: 'critical', details: 'Motor shortage' },
                { week: 6, status: 'warning', details: '1 PO delayed' },
                { week: 7, status: 'good', details: 'All on track' },
                { week: 8, status: 'good', details: '2 POs placed' },
                { week: 9, status: 'warning', details: 'PCB low stock' },
                { week: 10, status: 'good', details: 'All on track' },
                { week: 11, status: 'good', details: 'All on track' },
                { week: 12, status: 'warning', details: '3 POs needed' }
            ];

            weeks.forEach(week => {
                const weekCell = document.createElement('div');
                weekCell.className = 'week-cell';
                weekCell.onclick = () => showWeekDetails(week);
                
                weekCell.innerHTML = `
                    <div class="week-number">Week ${week.week}</div>
                    <div class="week-status status-${week.status}">
                        ${week.status === 'good' ? '✓' : week.status === 'warning' ? '!' : '⚠'}
                    </div>
                    <div class="week-details">${week.details}</div>
                `;
                
                grid.appendChild(weekCell);
            });
        }

        function showWeekDetails(week) {
            alert(`Week ${week.week} Details:\nStatus: ${week.status.toUpperCase()}\n${week.details}\n\nClick OK to view detailed breakdown.`);
        }

        // Parts Table Functions
        function populatePartsTable() {
            const tbody = document.getElementById('partsTable');
            tbody.innerHTML = '';

            mockParts.forEach(part => {
                const row = document.createElement('tr');
                const statusClass = part.status === 'Critical' ? 'badge-danger' : 
                                  part.status === 'PO Required' ? 'badge-warning' : 'badge-success';
                
                row.innerHTML = `
                    <td><strong>${part.partNumber}</strong></td>
                    <td>${part.description}</td>
                    <td>${part.currentStock}</td>
                    <td>${part.safetyStock}</td>
                    <td>${part.leadTime}</td>
                    <td>${part.moq}</td>
                    <td>${part.supplier}</td>
                    <td>${part.poRecommendation}</td>
                    <td><span class="status-badge ${statusClass}">${part.status}</span></td>
                    <td>
                        <button class="btn btn-secondary" onclick="viewPartDetails('${part.partNumber}')">
                            <i class="fas fa-eye"></i> View
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function viewPartDetails(partNumber) {
            const part = mockParts.find(p => p.partNumber === partNumber);
            if (!part) return;

            document.getElementById('partModalTitle').textContent = `${part.partNumber} - ${part.description}`;
            document.getElementById('partModalContent').innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div>
                        <h4 style="margin-bottom: 12px; color: #374151;">Current Inventory</h4>
                        <p><strong>Current Stock:</strong> ${part.currentStock} units</p>
                        <p><strong>Safety Stock:</strong> ${part.safetyStock} units</p>
                        <p><strong>Unit Price:</strong> $${part.price}</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 12px; color: #374151;">Supplier Information</h4>
                        <p><strong>Supplier:</strong> ${part.supplier}</p>
                        <p><strong>Lead Time:</strong> ${part.leadTime}</p>
                        <p><strong>MOQ:</strong> ${part.moq} units</p>
                    </div>
                </div>
                <div style="background: #f8fafc; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
                    <h4 style="margin-bottom: 8px; color: #374151;">Recommendation</h4>
                    <p>${part.poRecommendation}</p>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-primary">Generate PO</button>
                    <button class="btn btn-secondary">View Forecast</button>
                    <button class="btn btn-secondary">Supplier History</button>
                </div>
            `;
            document.getElementById('partModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Supplier Cards Functions
        function populateSupplierCards() {
            const container = document.getElementById('supplierCards');
            container.innerHTML = '';

            mockSuppliers.forEach(supplier => {
                const card = document.createElement('div');
                card.className = 'supplier-card';
                
                const stars = '★'.repeat(Math.floor(supplier.rating)) + 
                            (supplier.rating % 1 >= 0.5 ? '☆' : '');
                
                card.innerHTML = `
                    <div class="supplier-header">
                        <div class="supplier-info">
                            <h3>${supplier.name}</h3>
                            <p><i class="fas fa-map-marker-alt"></i> ${supplier.country}</p>
                        </div>
                        <div class="supplier-rating">
                            <div class="rating-score">${supplier.rating}</div>
                            <div class="rating-stars">${stars}</div>
                        </div>
                    </div>
                    
                    <div class="supplier-metrics">
                        <div class="metric">
                            <div class="metric-value">${supplier.onTimeDelivery}%</div>
                            <div class="metric-label">On-Time Delivery</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${supplier.avgLeadTime}</div>
                            <div class="metric-label">Avg Lead Time (days)</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${supplier.totalOrders}</div>
                            <div class="metric-label">Total Orders</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${supplier.lateDeliveries}</div>
                            <div class="metric-label">Late Deliveries</div>
                        </div>
                    </div>
                    
                    <div class="parts-list">
                        <h4>Parts Supplied (${supplier.parts.length})</h4>
                        <div class="parts-tags">
                            ${supplier.parts.map(part => `<span class="part-tag">${part}</span>`).join('')}
                        </div>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        // Charts Functions
        function initializeCharts() {
            // Lead Time Trends Chart
            const leadTimeCtx = document.getElementById('leadTimeChart');
            if (leadTimeCtx) {
                new Chart(leadTimeCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Average Lead Time (days)',
                            data: [9.2, 8.8, 9.1, 8.4, 8.7, 8.4],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: false
                            }
                        }
                    }
                });
            }

            // Supplier Performance Chart
            const supplierCtx = document.getElementById('supplierChart');
            if (supplierCtx) {
                new Chart(supplierCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Excellent (90%+)', 'Good (80-89%)', 'Needs Improvement (<80%)'],
                        datasets: [{
                            data: [60, 30, 10],
                            backgroundColor: ['#059669', '#d97706', '#dc2626']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }

            // Inventory Value Chart
            const inventoryCtx = document.getElementById('inventoryChart');
            if (inventoryCtx) {
                new Chart(inventoryCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Inventory Value ($K)',
                            data: [247, 251, 239, 244, 236, 231],
                            backgroundColor: '#3b82f6'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: false
                            }
                        }
                    }
                });
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ManufacturingOS Demo Application Loaded');
        });
    </script>
</body>
</html>
